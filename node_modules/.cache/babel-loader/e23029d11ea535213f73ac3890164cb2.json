{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/Users/sebastian/react/react-by-example/rsvp/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/sebastian/react/react-by-example/rsvp/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/sebastian/react/react-by-example/rsvp/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/sebastian/react/react-by-example/rsvp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sebastian/react/react-by-example/rsvp/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sebastian/react/react-by-example/rsvp/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sebastian/react/react-by-example/rsvp/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./App.css';import Header from'./Header';import MainContent from'./MainContent';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isFiltered:false,pendingGuest:\"\",guests:[]};_this.lastGuestId=0;_this.newGuestId=function(){var id=_this.lastGuestId;_this.lastGuestId+=1;return id;};_this.toggleGuestProperty=function(property,id){return _this.setState({guests:_this.state.guests.map(function(guest){if(id===guest.id){return _objectSpread(_objectSpread({},guest),{},_defineProperty({},property,!guest[property]));}return guest;})});};_this.toggleConfirmation=function(id){return _this.toggleGuestProperty(\"isConfirmed\",id);};_this.removeGuest=function(id){return _this.setState({guests:_this.state.guests.filter(function(guest){return id!==guest.id;})});};_this.toggleEditing=function(id){return _this.toggleGuestProperty(\"isEditing\",id);};_this.setName=function(name,id){return _this.setState({guests:_this.state.guests.map(function(guest){if(id===guest.id){return _objectSpread(_objectSpread({},guest),{},{name:name});}return guest;})});};_this.toggleFilter=function(){return _this.setState({isFiltered:!_this.state.isFiltered});};_this.handleNameInput=function(e){return _this.setState({pendingGuest:e.target.value});};_this.newGuestSubmitHandler=function(e){e.preventDefault();var id=_this.newGuestId();_this.setState({guests:[{name:_this.state.pendingGuest,isConfirmed:false,isEditing:false,id:id}].concat(_toConsumableArray(_this.state.guests)),pendingGuest:''});};_this.getTotalInvited=function(){return _this.state.guests.length;};_this.getAttendingGuests=function(){return _this.state.guests.reduce(function(total,guest){return guest.isConfirmed?total+1:total;},0);};return _this;}_createClass(App,[{key:\"render\",value:function render(){var totalInvited=this.getTotalInvited();var numberAttending=this.getAttendingGuests();var numberUnconfirmed=totalInvited-numberAttending;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{newGuestSubmitHandler:this.newGuestSubmitHandler,pendingGuest:this.state.pendingGuest,handleNameInput:this.handleNameInput}),/*#__PURE__*/_jsx(MainContent,{toggleFilter:this.toggleFilter,isFiltered:this.state.isFiltered,totalInvited:totalInvited,numberAttending:numberAttending,numberUnconfirmed:numberUnconfirmed,guests:this.state.guests,toggleConfirmation:this.toggleConfirmation,toggleEditing:this.toggleEditing,setName:this.setName,removeGuest:this.removeGuest,pendingGuest:this.state.pendingGuest})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/sebastian/react/react-by-example/rsvp/src/App.js"],"names":["React","Component","Header","MainContent","App","state","isFiltered","pendingGuest","guests","lastGuestId","newGuestId","id","toggleGuestProperty","property","setState","map","guest","toggleConfirmation","removeGuest","filter","toggleEditing","setName","name","toggleFilter","handleNameInput","e","target","value","newGuestSubmitHandler","preventDefault","isConfirmed","isEditing","getTotalInvited","length","getAttendingGuests","reduce","total","totalInvited","numberAttending","numberUnconfirmed"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\nimport Header from './Header';\nimport MainContent from './MainContent';\n\nclass App extends Component {\n\n  state = {\n    isFiltered: false,\n    pendingGuest: \"\",\n    guests: []\n  };\n\n  lastGuestId = 0;\n\n  newGuestId = () => {\n    const id = this.lastGuestId;\n    this.lastGuestId += 1;\n    return id;\n  };\n\n  toggleGuestProperty = (property, id) =>\n    this.setState({\n      guests: this.state.guests.map(guest => {\n        if (id === guest.id) {\n          return {\n            ...guest,\n            [property]: !guest[property]\n          };\n        }\n        return guest;\n      })\n    });\n\n  toggleConfirmation = id =>\n    this.toggleGuestProperty(\"isConfirmed\", id);\n\n  removeGuest = id =>\n    this.setState({\n      guests: this.state.guests.filter(guest => id !== guest.id)\n    });\n\n  toggleEditing = id =>\n    this.toggleGuestProperty(\"isEditing\", id);\n\n  setName = (name, id) =>\n    this.setState({\n      guests: this.state.guests.map(guest => {\n        if (id === guest.id) {\n          return {\n            ...guest,\n            name\n          };\n        }\n        return guest;\n      })\n    });\n\n  toggleFilter = () =>\n    this.setState({ isFiltered: !this.state.isFiltered });\n\n  handleNameInput = e =>\n    this.setState({ pendingGuest: e.target.value });\n\n  newGuestSubmitHandler = e => {\n    e.preventDefault();\n    const id = this.newGuestId();\n    this.setState({\n      guests: [\n        {\n          name: this.state.pendingGuest,\n          isConfirmed: false,\n          isEditing: false,\n          id\n        },\n        ...this.state.guests\n      ],\n      pendingGuest: ''\n    });\n  }\n\n  getTotalInvited = () => this.state.guests.length;\n\n  getAttendingGuests = () =>\n    this.state.guests.reduce(\n      (total, guest) => guest.isConfirmed ? total + 1 : total,\n      0\n    );\n\n  render() {\n    const totalInvited = this.getTotalInvited();\n    const numberAttending = this.getAttendingGuests();\n    const numberUnconfirmed = totalInvited - numberAttending;\n\n    return (\n      <div className=\"App\">\n        <Header\n          newGuestSubmitHandler={this.newGuestSubmitHandler}\n          pendingGuest={this.state.pendingGuest}\n          handleNameInput={this.handleNameInput}\n        />\n        <MainContent\n          toggleFilter={this.toggleFilter}\n          isFiltered={this.state.isFiltered}\n          totalInvited={totalInvited}\n          numberAttending={numberAttending}\n          numberUnconfirmed={numberUnconfirmed}\n          guests={this.state.guests}\n          toggleConfirmation={this.toggleConfirmation}\n          toggleEditing={this.toggleEditing}\n          setName={this.setName}\n          removeGuest={this.removeGuest}\n          pendingGuest={this.state.pendingGuest}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}